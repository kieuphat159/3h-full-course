{% extends "layout.html" %}
{% load static %}

{% block title %}Posts{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/posts_list.css' %}">
{% endblock %}

{% block content %}
<section class="posts-section">
    <h1 class="posts-title">Posts</h1>
    <div class="posts-grid">
        {% for post in posts %}
        <article class="post-card">
            <h2 class="post-title">
                <a href="{% url 'posts:page' slug=post.slug %}">
                    {{ post.title }}
                </a>
            </h2>
            <p class="post-meta">
                <small>{{ post.date }} — {{ post.author }}</small>
            </p>
            <p class="post-excerpt">{{ post.body|truncatewords:30 }}</p>
            <div class="post-footer">
                <span class="post-likes">
                    <i class="fas fa-heart">❤️</i> {{ post.total_likes }}
                </span>
        </article>
        {% empty %}
        <p class="no-posts">No posts available.</p>
        {% endfor %}
    </div>
</section>
{% endblock %}
